#!/bin/bash
################## CHANGE ME ########################
USER="root" #SERVER user goes here - if not root
REMOTE="192.168.0.0" #SERVER IP goes here
REMOTE_PATH="/var/www/html" #PATH on REMOTE SERVER
REMOTE2="$REMOTE"
REMOTE_PATH2="$REMOTE_PATH"
EXCLUDES=(
  '.git/'
  '.DS_Store'
  '.liftoffrc'
)
####################################################

COLOR='\033[0;32m' #green
NC='\033[0m' #no-color
MALFUNCTION="üë®‚ÄçüöÄ Huston, We have a problem! Make sure all your parameters are correct"
OOPS="üöÄüí•üî• OOPS! Try using ${COLOR}ready${NC} or ${COLOR}ready go${NC}"

if [ $# -eq 0 ]
  then
    echo "$MALFUNCTION"
elif [ "$1" == "ready" ]
  then
    if [[ -z "$2" ]]
      then
        echo "Running prelaunch ‚úÖ check to ü™ê $REMOTE..."
        rsync --dry-run -az --force --delete --progress --exclude="$EXCLUDES[*]}" -e "ssh -p22" ./ "$USER"@"$REMOTE":"$REMOTE_PATH"
    elif [ "$2" == "go" ]
      then
        echo "And we have üöÄ Liftoff to ü™ê - $REMOTE2..."
        rsync -az --force --delete --progress --exclude="${EXCLUDES[*]}" -e "ssh -p22" ./ "$USER"@"$REMOTE2":"$REMOTE_PATH2"
    else
      echo "$MALFUNCTION"
    fi
  else
    echo -e "$OOPS"
fi
